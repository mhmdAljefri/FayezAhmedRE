# Migration `20201231115445-price-type`

This migration has been generated by Hassan Alattas at 12/31/2020, 2:54:45 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."PRICE_TYPES" AS ENUM ('priceQatar', 'priceKSA', 'priceTurkey', 'priceKuwait', 'priceUAE', 'priceOman', 'price')

ALTER TABLE "Country" ADD COLUMN     "priceType" "PRICE_TYPES" NOT NULL DEFAULT E'price'
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201226193518..20201231115445-price-type
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -12,9 +12,9 @@
 // --------------------------------------
 model User {
-  id             Int       @default(autoincrement()) @id
+  id             Int       @id @default(autoincrement())
   createdAt      DateTime  @default(now())
   updatedAt      DateTime  @updatedAt
   name           String?
   email          String    @unique
@@ -23,9 +23,9 @@
   sessions       Session[]
 }
 model Session {
-  id                 Int       @default(autoincrement()) @id
+  id                 Int       @id @default(autoincrement())
   createdAt          DateTime  @default(now())
   updatedAt          DateTime  @updatedAt
   expiresAt          DateTime?
   handle             String    @unique
@@ -37,243 +37,246 @@
   privateData        String?
 }
 model Project {
-  id                        Int             @default(autoincrement()) @id
-  createdAt                 DateTime        @default(now())
-  updatedAt                 DateTime        @updatedAt
-  paymentType               PAYMENT_TYPES   @default(cash)
-  status                    STATUS          @default(inprogress)
-  country                   Country         @relation(fields: [countryId], references: [id])
-  countryId                 Int
-  city                      City?           @relation(fields: [cityId], references: [id])
-  cityId                    Int?
-  propertyType              PropertyType?   @relation(fields: [propertyTypeId], references: [id])
-  propertyTypeId            Int?
-  isHousingComplex          Boolean         @default(false)
-  housingComplexText        String?
-  housingComplexImage       String?
-  name                      String
-  views                     Int             @default(0)
-  subTitle                  String
-  details                   String
-  complationDate            DateTime?
-  image                     String
-  mainVideo                 String?
-  mainVideoPreview          String?
-  gallery                   String[]
-  floorplan                 String[]
-  features                  String[]
-  brochure                  String?
-  constructingUpdateVideo   String?
-  constructingUpdatePrview  String?
-  nearBy                    Json?
-  roomsWithPrices           RoomWithPrice[]
-  location                  Json?
-  installmentPlan           Json?
-  locationText              String?
-  oprationCompanies         Json?
+  id                       Int             @id @default(autoincrement())
+  createdAt                DateTime        @default(now())
+  updatedAt                DateTime        @updatedAt
+  paymentType              PAYMENT_TYPES   @default(cash)
+  status                   STATUS          @default(inprogress)
+  country                  Country         @relation(fields: [countryId], references: [id])
+  countryId                Int
+  city                     City?           @relation(fields: [cityId], references: [id])
+  cityId                   Int?
+  propertyType             PropertyType?   @relation(fields: [propertyTypeId], references: [id])
+  propertyTypeId           Int?
+  isHousingComplex         Boolean         @default(false)
+  housingComplexText       String?
+  housingComplexImage      String?
+  name                     String
+  views                    Int             @default(0)
+  subTitle                 String
+  details                  String
+  complationDate           DateTime?
+  image                    String
+  mainVideo                String?
+  mainVideoPreview         String?
+  gallery                  String[]
+  floorplan                String[]
+  features                 String[]
+  brochure                 String?
+  constructingUpdateVideo  String?
+  constructingUpdatePrview String?
+  nearBy                   Json?
+  roomsWithPrices          RoomWithPrice[]
+  location                 Json?
+  installmentPlan          Json?
+  locationText             String?
+  oprationCompanies        Json?
+  Offer                    Offer[]
 }
 model OprationCompanyPage {
-  id                        Int             @default(autoincrement()) @id
-  createdAt                 DateTime        @default(now())
-  updatedAt                 DateTime        @updatedAt
-  country                   Country         @relation(fields: [countryId], references: [id])
-  countryId                 Int
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  country   Country  @relation(fields: [countryId], references: [id])
+  countryId Int
-  title                     String
-  description               String
-  image                     String
-  galleryImages             String[]
-  video                     String?
-  constructingUpdateVideo   String?
-  constructingUpdatePrview  String?
-  oprationCompanies         Json?
+  title                    String
+  description              String
+  image                    String
+  galleryImages            String[]
+  video                    String?
+  constructingUpdateVideo  String?
+  constructingUpdatePrview String?
+  oprationCompanies        Json?
 }
 model Offer {
-  id                        Int             @default(autoincrement()) @id
-  createdAt                 DateTime        @default(now())
-  updatedAt                 DateTime        @updatedAt
-  paymentType               PAYMENT_TYPES   @default(cash)
-  status                    STATUS          @default(inprogress)
-  country                   Country         @relation(fields: [countryId], references: [id])
-  countryId                 Int
-  project                   Project?        @relation(fields: [projectId], references: [id])
-  projectId                 Int?
+  id          Int           @id @default(autoincrement())
+  createdAt   DateTime      @default(now())
+  updatedAt   DateTime      @updatedAt
+  paymentType PAYMENT_TYPES @default(cash)
+  status      STATUS        @default(inprogress)
+  country     Country       @relation(fields: [countryId], references: [id])
+  countryId   Int
+  project     Project?      @relation(fields: [projectId], references: [id])
+  projectId   Int?
-  name                      String          @unique
-  details                   String
-  image                     String?
-  mainVideo                 String?
-  gallery                   String[]
-  features                  String[]
-  brochure                  String?
-  constructingUpdateVideo   String?
-  constructingUpdatePrview  String?
-  location                  Json?
-  installmentPlan           Json?
-} 
+  name                     String   @unique
+  details                  String
+  image                    String?
+  mainVideo                String?
+  gallery                  String[]
+  features                 String[]
+  brochure                 String?
+  constructingUpdateVideo  String?
+  constructingUpdatePrview String?
+  location                 Json?
+  installmentPlan          Json?
+}
 model PropertyType {
-    id             Int      @default(autoincrement()) @id
-    createdAt      DateTime @default(now())
-    updatedAt      DateTime @updatedAt
-    name           String   @unique
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  name      String   @unique
-    projects       Project[]
+  projects Project[]
 }
 model RoomWithPrice {
-    id             Int      @default(autoincrement()) @id
-    createdAt      DateTime @default(now())
-    updatedAt      DateTime @updatedAt
-    room           String?
-    value          Int      @default(autoincrement())
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  room      String?
+  value     Int      @default(autoincrement())
-    price          String
-    priceQatar     String
-    priceTurkey    String
-    priceKSA       String
-    priceKuwait    String
-    priceUAE       String
-    priceOman      String
+  price       String
+  priceQatar  String
+  priceTurkey String
+  priceKSA    String
+  priceKuwait String
+  priceUAE    String
+  priceOman   String
+  Project     Project? @relation(fields: [projectId], references: [id])
+  projectId   Int?
 }
 model Country {
-  id                    Int      @default(autoincrement()) @id
-  createdAt             DateTime @default(now())
-  updatedAt             DateTime @updatedAt
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
-  name                  String   @unique
-  nameEN                String?
-  image                 String
-  gallery               Json?
-  isTurkey              Boolean @default(false)
-  rooms                 String[]
-  carouselImages        String[]
+  name           String      @unique
+  nameEN         String?
+  image          String
+  gallery        Json?
+  isTurkey       Boolean     @default(false)
+  rooms          String[]
+  carouselImages String[]
+  priceType      PRICE_TYPES @default(price)
-  cities                City[]
-  projects              Project[]
-  explores              Explore[]
-  offers                Offer[]
-  oprationCompanyPages  OprationCompanyPage[]
-  contacts              Contact[]
+  cities               City[]
+  projects             Project[]
+  explores             Explore[]
+  offers               Offer[]
+  oprationCompanyPages OprationCompanyPage[]
+  contacts             Contact[]
 }
 model City {
-  id        Int      @default(autoincrement()) @id
+  id        Int      @id @default(autoincrement())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
-  name      String   @unique
+  name      String  @unique
   latituade String?
   longitude String?
-  country   Country  @relation(fields: [countryId], references: [id])
-  countryId Int      
+  country   Country   @relation(fields: [countryId], references: [id])
+  countryId Int
+  Project   Project[]
 }
 model Contact {
-  id             Int      @default(autoincrement()) @id
-  createdAt      DateTime @default(now())
-  updatedAt      DateTime @updatedAt
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
   name           String   @unique
   location       String
   phones         String[]
   mobiles        String[]
   locationObject Json
-  country        Country  @relation(fields: [countryId], references: [id])
-  countryId      Int
+  country   Country @relation(fields: [countryId], references: [id])
+  countryId Int
 }
 model Furnish {
-  id                Int      @default(autoincrement()) @id
-  createdAt         DateTime @default(now())
-  updatedAt         DateTime @updatedAt
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
-  name              String
-  description       String
-  image             String
-  price             String
+  name        String
+  description String
+  image       String
+  price       String
-  furnishCategory   FurnishCategory  @relation(fields: [furnishCategoryId], references: [id])
-  furnishCategoryId Int     
+  furnishCategory   FurnishCategory @relation(fields: [furnishCategoryId], references: [id])
+  furnishCategoryId Int
 }
 model FurnishCategory {
-  id          Int      @default(autoincrement()) @id
-  createdAt   DateTime @default(now())
-  updatedAt   DateTime @updatedAt
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
-  name        String @unique
-  image       String
-  furnishes   Furnish[]
+  name      String    @unique
+  image     String
+  furnishes Furnish[]
 }
 model Feature {
-  id        Int      @default(autoincrement()) @id
+  id        Int      @id @default(autoincrement())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
-  name      String
-  image     String
+  name  String
+  image String
 }
 model Partner {
-  id        Int      @default(autoincrement()) @id
+  id        Int      @id @default(autoincrement())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
-  name      String
-  image     String
+  name  String
+  image String
 }
 model Carousel {
-  id        Int      @default(autoincrement()) @id
+  id        Int      @id @default(autoincrement())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
-  position  Int      @unique @default(autoincrement())
-  title     String?
-  text      String?
-  url       String?
-  image     String
+  position Int     @unique @default(autoincrement())
+  title    String?
+  text     String?
+  url      String?
+  image    String
 }
 model Explore {
-  id          Int           @default(autoincrement()) @id
-  createdAt   DateTime      @default(now())
-  updatedAt   DateTime      @updatedAt
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
   title       String        @unique
   type        EXPLOAR_TYPES @default(dontMissitGallery)
   description String
   image       String
   videoUrl    String?
-  country     Country?       @relation(fields: [countryId], references: [id])
+  country     Country?      @relation(fields: [countryId], references: [id])
   countryId   Int?
 }
 model Request {
-  id        Int      @default(autoincrement()) @id
+  id        Int      @id @default(autoincrement())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
-  type      REQUEST_TYPES @default(flights)
-  isNew     Boolean  @default(true)
-  data      Json
+  type  REQUEST_TYPES @default(flights)
+  isNew Boolean       @default(true)
+  data  Json
 }
-
 // --------------------------------------
-
 enum REQUEST_TYPES {
   flights
   hotels
   cars
@@ -299,5 +302,15 @@
 enum PAYMENT_TYPES {
   cash
   installment
-}
+}
+
+enum PRICE_TYPES {
+  priceQatar
+  priceKSA
+  priceTurkey
+  priceKuwait
+  priceUAE
+  priceOman
+  price
+}
```


