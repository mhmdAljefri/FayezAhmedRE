# Migration `20201209083929`

This migration has been generated by Mohammed at 12/9/2020, 11:39:29 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Project" ADD COLUMN     "oprationCompanies" JSONB,
ALTER COLUMN "status" SET DEFAULT E'inprogress'

ALTER TABLE "Request" ADD COLUMN     "isNew" BOOLEAN NOT NULL DEFAULT true

CREATE TABLE "Offer" (
"id" SERIAL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP(3) NOT NULL,
    "reachText" TEXT NOT NULL,
    "title" TEXT NOT NULL,
    "image" TEXT NOT NULL,
    "subTitle" TEXT NOT NULL,
    "projectId" INTEGER NOT NULL,
    "countryId" INTEGER NOT NULL,

    PRIMARY KEY ("id")
)

ALTER TABLE "Offer" ADD FOREIGN KEY("projectId")REFERENCES "Project"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "Offer" ADD FOREIGN KEY("countryId")REFERENCES "Country"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201209020204..20201209083929
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -63,8 +63,9 @@
   roomsWithPrices           RoomWithPrice[]
   location                  Json?
   installmentPlan           Json?
   locationText              String?
+  oprationCompanies         Json?
 } 
 model Offer {
   id                        Int             @default(autoincrement()) @id
```


