# Migration `20201210135806`

This migration has been generated by Mohammed at 12/10/2020, 4:58:06 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."EXPLOAR_TYPES" AS ENUM ('dontMissitGallery', 'getInspiredGallery', 'exploreGallery')

ALTER TABLE "Country" DROP COLUMN "dontMissitGallery",
DROP COLUMN "getInspiredGallery",
DROP COLUMN "exploreGallery"

CREATE TABLE "Exploar" (
"id" SERIAL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP(3) NOT NULL,
    "title" TEXT NOT NULL,
    "type" "EXPLOAR_TYPES" NOT NULL DEFAULT E'dontMissitGallery',
    "description" TEXT NOT NULL,
    "image" TEXT NOT NULL,
    "countryId" INTEGER,

    PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "Exploar.title_unique" ON "Exploar"("title")

ALTER TABLE "Exploar" ADD FOREIGN KEY("countryId")REFERENCES "Country"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201209083929..20201210135806
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -119,11 +119,8 @@
   gallery               Json?
   isTurkey              Boolean @default(false)
   rooms                 String[]
-  dontMissitGallery     String[]
-  getInspiredGallery    String[]
-  exploreGallery        String[]
   cities                City[]
   projects              Project[]
   offers                Offer[]
 }
@@ -209,8 +206,26 @@
   url       String
   image     String
 }
+model Exploar {
+  id          Int           @default(autoincrement()) @id
+  createdAt   DateTime      @default(now())
+  updatedAt   DateTime      @updatedAt
+
+  title       String        @unique
+  type        EXPLOAR_TYPES @default(dontMissitGallery)
+  description String
+  image       String
+  country     Country?       @relation(fields: [countryId], references: [id])
+  countryId   Int?
+}
+
+enum EXPLOAR_TYPES {
+  dontMissitGallery
+getInspiredGallery
+exploreGallery
+}
 model Request {
   id        Int      @default(autoincrement()) @id
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
```


